---
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasEducation = siteConfig.education && siteConfig.education.length > 0;
const hasCertifications = siteConfig.certifications && siteConfig.certifications.length > 0;
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 hidden md:block transition-all duration-300 bg-gray-900/80"
>
  <!-- Scroll Progress Bar -->
  <div class="absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300" id="scroll-progress"></div>
  
  <nav class="max-w-7xl mx-auto px-8 py-4">
    <ul class="flex items-center gap-8 justify-center">
      <li>
        <a
          href="#cloud"
          class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
        >
          Cloud
        </a>
      </li>
      <li>
        <a
          href="#about"
          class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
        >
          About
        </a>
      </li>
      {
        hasProjects && (
          <li>
            <a
              href="#projects"
              class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
            >
              Projects
            </a>
          </li>
        )
      }
      {
        hasExperience && (
          <li>
            <a
              href="#experience"
              class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
            >
              Experience
            </a>
          </li>
        )
      }
      {
        hasEducation && (
          <li>
            <a
              href="#education"
              class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
            >
              Education
            </a>
          </li>
        )
      }
      {
        hasCertifications && (
          <li>
            <a
              href="#certifications"
              class="nav-link text-gray-300 hover:text-white transition-all duration-300 font-medium relative"
            >
              Certifications
            </a>
          </li>
        )
      }
    </ul>
  </nav>
</header>

<script>
  window.addEventListener("scroll", () => {
    const header = document.getElementById("header");
    const scrollProgress = document.getElementById("scroll-progress");
    const scrollY = window.scrollY;
    
    // Header background on scroll
    if (scrollY > 100) {
      header?.classList.add("bg-gray-900/90");
    } else {
      header?.classList.remove("bg-gray-900/90");
    }
    
    // Scroll progress bar
    if (scrollProgress) {
      const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (scrollY / documentHeight) * 100;
      scrollProgress.style.width = `${Math.min(progress, 100)}%`;
    }
  });

  // Smooth scroll for navigation links
  document.addEventListener('DOMContentLoaded', () => {
    const navLinks = document.querySelectorAll('a[href^="#"]');
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  });
</script>

<style>
  html {
    scroll-behavior: smooth;
  }

  /* Navigation hover effects */
  .nav-link::before {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    width: 0;
    height: 2px;
    background: #3b82f6;
    transition: all 0.3s ease;
    transform: translateX(-50%);
  }

  .nav-link:hover::before {
    width: 100%;
  }

  .nav-link:hover {
    transform: translateY(-2px);
  }
</style>
